localforage.config({driver:[localforage.INDEXEDDB,localforage.LOCALSTORAGE,localforage.WEBSQL],name:"ScopeERP",version:1,size:4980736,storeName:"ScopeERPData",description:"storing data at client browser for faster operations."});let AdminLayout=localforage.createInstance({name:"ScopeERP",storeName:"ScopeERPData"}),defaultValue={AppVersion:"1.0",AppName:"Scope ERP Software",CompanyName:"Coding Company",BuildVersion:"1.0",UseRedisCache:!0};$(document).ready(async function(){await SetDataToLocalStorage("Config","Application Configuration",defaultValue);let n=await GetConfigData("Config");backroundCache=n.UseRedisCache});let SetDataToLocalStorage=async function(n,t,i,r){const u=new Date,f={data:i,id:t,expiry:u.getTime()+r*6e4};return await AdminLayout.setItem(n,f).then(function(n){return n?n:(printLog("No cache data","setItem"),null)}).catch(n=>{console.log(n.message)})},GetConfigData=async function(n){return await AdminLayout.getItem(n).then(function(t){if(t){const i=new Date;return t.expiry!=="NaN"&&i.getTime()>t.expiry?(localStorage.removeItem(n),null):Promise.resolve(t.data)}return null}).catch(function(n){console.log(n)})},GetDataFromLocalStorage=async function(n,t,i){return i===!1?null:await AdminLayout.getItem(n).then(function(i){if(i){const r=new Date;return i.expiry!=="NaN"&&r.getTime()>i.expiry||i.id!==t?(localStorage.removeItem(n),null):Promise.resolve(i.data)}return null}).catch(function(n){console.log(n)})},callback=async function(){let n=await GetConfigData("Config");backroundCache=n.UseRedisCache},clearCache=async function(){await AdminLayout.clear().then(function(){SetDataToLocalStorage("Config","Application Configuration",defaultValue)}).catch(function(n){console.log(n)})};